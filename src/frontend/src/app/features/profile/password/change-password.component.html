<p-toast></p-toast>
<div class="bg-white rounded-xl shadow-sm border border-gray-100 p-6 md:p-8">
    <h2 class="text-xl font-bold text-gray-900 mb-6 pb-4 border-b border-gray-100">Đổi mật khẩu</h2>

    <form [formGroup]="passwordForm" (ngSubmit)="onSubmit()" class="max-w-md flex flex-col gap-5">

        <div class="flex flex-col gap-2">
            <label class="text-sm font-medium text-gray-700">Mật khẩu hiện tại</label>
            <p-password formControlName="currentPassword" [feedback]="false" [toggleMask]="true"
                placeholder="Nhập mật khẩu cũ" styleClass="w-full" inputStyleClass="w-full"></p-password>
            <small *ngIf="passwordForm.get('currentPassword')?.invalid && passwordForm.get('currentPassword')?.touched"
                class="text-red-500">
                Vui lòng nhập mật khẩu hiện tại.
            </small>
        </div>

        <div class="flex flex-col gap-2">
            <label class="text-sm font-medium text-gray-700">Mật khẩu mới</label>
            <p-password formControlName="newPassword" [toggleMask]="true" promptLabel="Nhập mật khẩu mới"
                weakLabel="Yếu" mediumLabel="Trung bình" strongLabel="Mạnh" styleClass="w-full" inputStyleClass="w-full"
                panelStyleClass="moved-password-panel"> </p-password>
            <small
                *ngIf="passwordForm.get('newPassword')?.hasError('minlength') && passwordForm.get('newPassword')?.touched"
                class="text-red-500">
                Mật khẩu phải có ít nhất 6 ký tự.
            </small>
        </div>

        <div class="flex flex-col gap-2">
            <label class="text-sm font-medium text-gray-700">Xác nhận mật khẩu mới</label>
            <p-password formControlName="confirmPassword" [feedback]="false" [toggleMask]="true"
                placeholder="Nhập lại mật khẩu mới" styleClass="w-full" inputStyleClass="w-full"></p-password>
            <small *ngIf="passwordForm.errors?.['mismatch'] && passwordForm.get('confirmPassword')?.touched"
                class="text-red-500">
                Mật khẩu xác nhận không khớp.
            </small>
        </div>

        <div class="pt-2">
            <button pButton label="Lưu mật khẩu" type="submit" [loading]="isLoading"
                class="bg-pink-600 border-pink-600 hover:bg-pink-700 px-6"></button>
        </div>

    </form>
</div>